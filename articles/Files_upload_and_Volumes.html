<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="sevenbridges2">
<title>File upload and Volumes reference guide for Seven Bridges API R Client • sevenbridges2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="File upload and Volumes reference guide for Seven Bridges API R Client">
<meta property="og:description" content="sevenbridges2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sevenbridges2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Authentication_and_Billing.html">Authentication and Billing reference guide for Seven Bridges API R Client</a>
    <a class="dropdown-item" href="../articles/Files_upload_and_Volumes.html">File upload and Volumes reference guide for Seven Bridges API R Client</a>
    <a class="dropdown-item" href="../articles/Projects_and_Tasks_execution.html">Projects, Files, Apps and Tasks execution with Seven Bridges API R Client</a>
    <a class="dropdown-item" href="../articles/quickstart.html">Introduction and Quickstart for Seven Bridges API R Client</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sbg/sevenbridges2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>File upload and Volumes reference guide for Seven Bridges API R Client</h1>
            
            <h4 data-toc-skip class="date">2023-12-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sbg/sevenbridges2/blob/HEAD/vignettes/Files_upload_and_Volumes.Rmd" class="external-link"><code>vignettes/Files_upload_and_Volumes.Rmd</code></a></small>
      <div class="d-none name"><code>Files_upload_and_Volumes.Rmd</code></div>
    </div>

    
    
<p><a name="top"></a></p>
<div class="section level2">
<h2 id="file-upload">File upload<a class="anchor" aria-label="anchor" href="#file-upload"></a>
</h2>
<p>Seven Bridges platforms provide a few different methods for data
import:</p>
<ul>
<li>Import from FTP or HTTP with the web interface</li>
<li>The file upload API that you can directly call with the
<code>sevenbridges2</code> package</li>
<li>The command line uploader</li>
<li>Import from cloud storage - Volume</li>
<li>Import from a DRS server</li>
</ul>
<p>In this chapter we will explain how you can use the
<code>sevenbridges2</code> API library to upload your files to the
Platform.</p>
<p>Although it is more intuitive to have these operations available on
the <code>File</code> object, they are separated and stored directly on
the authentication object <code>Auth</code>, because there are a
separate group of endpoints themselves.</p>
<div class="section level3">
<h3 id="upload-single-file">Upload single file<a class="anchor" aria-label="anchor" href="#upload-single-file"></a>
</h3>
<p>You can upload files from your local computer to the Platform using
the <code>upload()</code> method on your <code>Auth</code> object. The
method allows you to upload only a single file for now.</p>
<p>To upload a file, you should provide its full path on your local
computer as the <code>path</code> parameter.</p>
<p>To specify the upload destination for your file you can use either
<code>project</code> or <code>parent</code> parameter. These two
parameters should not be used together.</p>
<ul>
<li>
<strong>project</strong> - <code>Project</code> object or project
ID.</li>
<li>
<strong>parent</strong> - <code>File</code> object (of type
<code>Folder</code>) or its ID.</li>
</ul>
<p>By calling the <code>upload()</code> method you are creating an
upload job that by default starts to run immediately. If you don’t want
to start the job immediately, just set the <code>init</code> parameter
to <code>TRUE</code> in order to only initialize the object.</p>
<p>This upload job is wrapped into an object of the class
<code>Upload</code> where you can see its details and call other actions
on it.</p>
<p>Let’s initialize an upload job that will upload a file into a
project:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Authenticate</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Auth.html">Auth</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>platform <span class="op">=</span> <span class="st">"aws-us"</span>, token <span class="op">=</span> <span class="st">"&lt;your-token&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the desired project to upload to</span></span>
<span><span class="va">destination_project</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">projects</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>project <span class="op">=</span> <span class="st">"&lt;project_id&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create upload job and set destination project</span></span>
<span><span class="va">upload_job</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="fu">upload</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"/path/to/your/file.txt"</span>,</span>
<span>  project <span class="op">=</span> <span class="va">destination_project</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  init <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>If you would like to upload your file into a folder, you need to set
the <code>parent</code> parameter:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get destination folder object</span></span>
<span><span class="va">destination_folder</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">files</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;folder_id&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">up</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="fu">upload</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"/path/to/your/file.txt"</span>,</span>
<span>  parent <span class="op">=</span> <span class="va">destination_folder</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  init <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="upload-fields-and-operations">Upload fields and operations<a class="anchor" aria-label="anchor" href="#upload-fields-and-operations"></a>
</h3>
<p>Since we have initialized the upload job, let’s see which actions can
we run.</p>
<div class="section level4">
<h4 id="print-upload-job">Print upload job<a class="anchor" aria-label="anchor" href="#print-upload-job"></a>
</h4>
<p>First, let’s print the <code>Upload</code> object to see what the API
returned as the response.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">up</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>── Upload ─────────────────────────────────────────────────────────────────────
• initialized: TRUE
• part_length: 1
• part_size: 33554432
• file_size: 232
• overwrite: FALSE
• filename: file.txt
• project: &lt;username_or_division&gt;/api-testing
• path: /path/to/your/file.txt
• upload_id: 4OvRx8Z9vghNoAUqsgYtNuM2IsiIM8kghhjgi7igu79HX9QKZpDEh5TZDrmhPxF
</code></pre>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="file-size-part-size-and-part-numberlength">File size, part size and part number/length<a class="anchor" aria-label="anchor" href="#file-size-part-size-and-part-numberlength"></a>
</h4>
<p>In the previous example we can see that the API returned the upload
id and some information about sizes. First we see the
<code>file_size</code> in bytes (232), which is the real size of the
file. File upload actually splits files into parts in the background;
parts are then being uploaded one by one or in parallel and then merged
again on destination. Each part can weigh a maximum of 5 GB, while the
default <code>part_size</code> is recommended and set to be 32MB (which
is 33554432B in our example).</p>
<p>Lastly, number of parts or <code>part_length</code> field, is also an
important measure. Maximum number of parts can be 10.000.</p>
<p>Since users can control part size through the <code>part_size</code>
parameter in <code>upload()</code> function, they should be careful not
to set a size that is too small for very large files, so that total
number of parts doesn’t exceed the limit of maximum 10.000.</p>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="start-upload">Start upload<a class="anchor" aria-label="anchor" href="#start-upload"></a>
</h4>
<p>Call the <code><a href="https://rdrr.io/r/stats/start.html" class="external-link">start()</a></code> method on the upload job object do
start the upload process.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Start upload</span></span>
<span><span class="va">up</span><span class="op">$</span><span class="fu">start</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you want to skip the step where you need to call the
<code><a href="https://rdrr.io/r/stats/start.html" class="external-link">start()</a></code> method to start the actual upload process, just set
the <code>init</code> parameter back to <code>FALSE</code> when creating
the upload job and the upload process will start right away.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create upload job and start it immediately</span></span>
<span><span class="va">up</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="fu">upload</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"/path/to/your/file.txt"</span>,</span>
<span>  project <span class="op">=</span> <span class="va">destination_project</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  init <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="get-status-information-about-the-job">Get status information about the job<a class="anchor" aria-label="anchor" href="#get-status-information-about-the-job"></a>
</h4>
<p>In order to track the progress of the job, you can call the
<code>info()</code> method on the upload object.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get upload progress info</span></span>
<span><span class="va">up</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Apart from basic information, the result will also provide the info
on the number of uploaded parts up to that moment.</p>
<div align="right">
<a href="#top">top</a>
</div>
</div>
</div>
<div class="section level3">
<h3 id="list-all-ongoing-uploads">List all ongoing uploads<a class="anchor" aria-label="anchor" href="#list-all-ongoing-uploads"></a>
</h3>
<p>Going back to the authentication object, there are two more
operations for uploads manipulation. One is the method
<code>list_ongoing_uploads()</code> that allows you to see the list of
all ongoing upload processes.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List ongoing uploads</span></span>
<span><span class="va">a</span><span class="op">$</span><span class="fu">list_ongoing_uploads</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="abort-upload-process">Abort upload process<a class="anchor" aria-label="anchor" href="#abort-upload-process"></a>
</h3>
<p>The other one is <code>abort()</code>. You can abort any upload
process using the <code>upload_abort()</code> method. To do so, you need
to provide the ID of a process within the <code>upload_id</code>
parameter.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Abort upload</span></span>
<span><span class="va">a</span><span class="op">$</span><span class="fu">abort_upload</span><span class="op">(</span>upload_id <span class="op">=</span> <span class="st">"&lt;id_of_the_upload_process&gt;"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Note</strong> that in practice, if you start a big upload
job, your R session will be blocked until this process is finished. This
functionality is work in progress but the idea is to not block your main
session in the future, while the upload is running. For now, you can
create another R session on your own and track the progress of the
upload job there.</p>
<div align="right">
<a href="#top">top</a>
</div>
</div>
</div>
<div class="section level2">
<h2 id="volumes">Volumes<a class="anchor" aria-label="anchor" href="#volumes"></a>
</h2>
<p>Cloud storage providers come with their own interfaces, features, and
terminology. At a certain level, though, they all view resources as data
objects organized in repositories. Authentication and operations are
commonly defined on those objects and repositories, and while each cloud
provider might call these things different names and apply different
parameters to them, their basic behavior is the same.</p>
<p>Seven Bridges environments mediate access to these repositories using
volumes. A volume is associated with a particular cloud storage
repository that you have enabled Seven Bridges to read from (and,
optionally, to write to). Currently, volumes may be created using two
types of cloud storage repositories: Amazon Web Services’ (AWS) S3
buckets and Google Cloud Storage (GCS) buckets.</p>
<p>A volume enables you to treat the cloud repository associated with it
as external storage. You can ‘import’ files from the volume to your
Seven Bridges environment to use them as inputs for computation.
Similarly, you can write files from the Seven Bridges environment to
your cloud storage by ‘exporting’ them to your volume.</p>
<p>Learn more about volumes on the <a href="https://docs.sevenbridges.com/docs/connecting-cloud-storage-overview" class="external-link">Seven
Bridges Platform</a>, <a href="http://docs.cancergenomicscloud.org/docs/connect-cloud-storage-overview" class="external-link">CGC</a>,
<a href="https://sb-biodatacatalyst.readme.io/docs/connect-cloud-storage-overview" class="external-link">BDC</a>
and <a href="https://docs.cavatica.org/reference/connect-cloud-storage-overview" class="external-link">CAVATICA</a>.</p>
<p>All volume related operations for querying volumes, fetching a single
volume, and creating volumes are grouped under <code>volumes</code> path
(<code>Volumes</code> resource class) on the authentication object.</p>
<p>When operating with a single volume, it is represented as an object
of the <code>Volume</code> class which stores all volume information
returned from the API and additional methods you are able to call
directly on the volume, like volume update, deactivation, listing
content, volume members management etc.</p>
<p><strong>Note</strong> that all operations with volumes require
<code>advance_access</code> parameter to be set to TRUE. In most of the
volume operations it is pre-set to <code>TRUE</code> by default.</p>
<div class="section level3">
<h3 id="list-volumes">List volumes<a class="anchor" aria-label="anchor" href="#list-volumes"></a>
</h3>
<p>You can list all volumes you’ve registered by calling the
<code>volumes$query()</code> method from the authentication object. The
method doesn’t have any additional query parameters that could allow you
to search for volumes by specific criteria, except the ones that control
the number of results returned using <code>limit</code> and
<code>offset</code> parameters.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Query volumes</span></span>
<span><span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The result returned is the <code>Collection</code> object with
pagination ability.</p>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="get-single-volume-information">Get single volume information<a class="anchor" aria-label="anchor" href="#get-single-volume-information"></a>
</h3>
<p>In order to retrieve information about a single volume of interest,
you can get it using the <code>volumes$get()</code> method using its id
as parameter. Volume ID is usually presented in the
<code>&lt;division_name&gt;/&lt;volume_name&gt;</code> form for
Enterprise users, while for public program users it can be in the
<code>&lt;volume_owner&gt;/&lt;volume_name&gt;</code> form.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get volume</span></span>
<span><span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;volume_owner_or_division&gt;/&lt;volume_name&gt;"</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="create-volumes---aws-s3-using-iam-user-authentication-type">Create volumes - AWS (S3) using IAM User authentication type<a class="anchor" aria-label="anchor" href="#create-volumes---aws-s3-using-iam-user-authentication-type"></a>
</h3>
<p>For creating volumes we have exposed several functions for different
cloud providers and authentication types:</p>
<ul>
<li>
<code>create_s3_using_iam_user</code>: creates S3 volume using IAM
User authentication type</li>
<li>
<code>create_s3_using_iam_role</code>: creates S3 volume using IAM
Role authentication type</li>
<li>
<code>create_google_using_iam_user</code>: creates GC volume using
IAM User authentication type</li>
<li>
<code>create_google_using_iam_role</code>: creates GC volume using
IAM Role authentication type</li>
<li>
<code>create_azure</code>: creates Azure volume (only RO privileges
allowed)</li>
<li>
<code>create_ali_oss</code>: creates AliCloud volume (only RO
privileges allowed)</li>
</ul>
<p>For each of the functions it is possible to provide parameters via
path (<code>from_path</code>) to a JSON file where all required fields
should be listed.</p>
<p>Examples of use are shown below:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create AWS volume using IAM User authentication type</span></span>
<span><span class="va">aws_iam_user_volume</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_s3_using_iam_user</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_new_aws_user_volume"</span>,</span>
<span>  bucket <span class="op">=</span> <span class="st">"&lt;bucket-name&gt;"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"AWS IAM User volume"</span>,</span>
<span>  access_key_id <span class="op">=</span> <span class="st">"&lt;access-key&gt;"</span>,</span>
<span>  secret_access_key <span class="op">=</span> <span class="st">"&lt;secret-access-key&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">aws_iam_user_volume_from_path</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_s3_using_iam_user</span><span class="op">(</span></span>
<span>  from_path <span class="op">=</span> <span class="st">"path/to/my/json/file.json"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Create AWS volume using IAM Role authentication type</span></span>
<span><span class="va">aws_iam_role_volume</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_s3_using_iam_role</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_new_aws_role_volume"</span>,</span>
<span>  bucket <span class="op">=</span> <span class="st">"&lt;bucket-name&gt;"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"AWS IAM Role volume"</span>,</span>
<span>  role_arn <span class="op">=</span> <span class="st">"&lt;role-arn-key&gt;"</span>,</span>
<span>  external_id <span class="op">=</span> <span class="st">"&lt;external-id&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">aws_iam_role_volume_from_path</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_s3_using_iam_role</span><span class="op">(</span></span>
<span>  from_path <span class="op">=</span> <span class="st">"path/to/my/json/file.json"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Google Cloud volume using IAM User authentication type</span></span>
<span><span class="va">gc_iam_user_volume</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_google_using_iam_user</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_new_gc_user_volume"</span>,</span>
<span>  access_mode <span class="op">=</span> <span class="st">"RW"</span>,</span>
<span>  bucket <span class="op">=</span> <span class="st">"&lt;bucket-name&gt;"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"GC IAM User volume"</span>,</span>
<span>  client_email <span class="op">=</span> <span class="st">"&lt;client_email&gt;"</span>,</span>
<span>  private_key <span class="op">=</span> <span class="st">"&lt;private_key-string&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">gc_iam_user_volume_from_path</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_google_using_iam_user</span><span class="op">(</span></span>
<span>  from_path <span class="op">=</span> <span class="st">"path/to/my/json/file.json"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Google Cloud volume using IAM Role authentication type</span></span>
<span><span class="co"># by passing configuration parameter as named list</span></span>
<span><span class="va">gc_iam_role_volume</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_google_using_iam_role</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_new_gc_role_volume"</span>,</span>
<span>  access_mode <span class="op">=</span> <span class="st">"RO"</span>,</span>
<span>  bucket <span class="op">=</span> <span class="st">"&lt;bucket-name&gt;"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"GC IAM Role volume"</span>,</span>
<span>  configuration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="st">"&lt;type-name&gt;"</span>,</span>
<span>    audience <span class="op">=</span> <span class="st">"&lt;audience-link&gt;"</span>,</span>
<span>    subject_token_type <span class="op">=</span> <span class="st">"&lt;subject_token_type&gt;"</span>,</span>
<span>    service_account_impersonation_url <span class="op">=</span> <span class="st">"&lt;service_account_impersonation_url&gt;"</span>,</span>
<span>    token_url <span class="op">=</span> <span class="st">"&lt;token_url&gt;"</span>,</span>
<span>    credential_source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      environment_id <span class="op">=</span> <span class="st">"&lt;environment_id&gt;"</span>,</span>
<span>      region_url <span class="op">=</span> <span class="st">"&lt;region_url&gt;"</span>,</span>
<span>      url <span class="op">=</span> <span class="st">"&lt;url&gt;"</span>,</span>
<span>      regional_cred_verification_url <span class="op">=</span> <span class="st">"&lt;regional_cred_verification_url&gt;"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Google Cloud volume using IAM Role authentication type</span></span>
<span><span class="co"># by passing configuration parameter as string path to configuration file</span></span>
<span><span class="va">gc_iam_role_volume_config_file</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_google_using_iam_role</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_new_gc_role_volume_cnf_file"</span>,</span>
<span>  access_mode <span class="op">=</span> <span class="st">"RO"</span>,</span>
<span>  bucket <span class="op">=</span> <span class="st">"&lt;bucket-name&gt;"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"GC IAM Role volume - using config file"</span>,</span>
<span>  configuration <span class="op">=</span> <span class="st">"path/to/config/file.json"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Google Cloud volume using IAM Role authentication type</span></span>
<span><span class="co"># using from_path parameter</span></span>
<span><span class="va">gc_iam_role_volume_from_path</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_google_using_iam_role</span><span class="op">(</span></span>
<span>  from_path <span class="op">=</span> <span class="st">"path/to/full/config/file.json"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Azure volume</span></span>
<span><span class="va">azure_volume</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_azure</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_new_azure_volume"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Azure volume"</span>,</span>
<span>  endpoint <span class="op">=</span> <span class="st">"&lt;endpoint&gt;"</span>,</span>
<span>  container <span class="op">=</span> <span class="st">"&lt;bucket-name"</span>,</span>
<span>  storage_account <span class="op">=</span> <span class="st">"&lt;storage_account-name&gt;"</span>,</span>
<span>  tenant_id <span class="op">=</span> <span class="st">"&lt;tenant_id&gt;"</span>,</span>
<span>  client_id <span class="op">=</span> <span class="st">"&lt;client_id&gt;"</span>,</span>
<span>  client_secret <span class="op">=</span> <span class="st">"&lt;client_secret&gt;"</span>,</span>
<span>  resource_id <span class="op">=</span> <span class="st">"&lt;resource_id&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">azure_volume_from_path</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_azure</span><span class="op">(</span></span>
<span>  from_path <span class="op">=</span> <span class="st">"path/to/my/json/file.json"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Ali Cloud volume</span></span>
<span><span class="va">ali_volume</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_ali_oss</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"my_new_azure_volume"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Ali volume"</span>,</span>
<span>  endpoint <span class="op">=</span> <span class="st">"&lt;endpoint&gt;"</span>,</span>
<span>  bucket <span class="op">=</span> <span class="st">"&lt;bucket-name"</span>,</span>
<span>  access_key_id <span class="op">=</span> <span class="st">"&lt;access_key_id&gt;"</span>,</span>
<span>  secret_access_key <span class="op">=</span> <span class="st">"&lt;secret_access_key&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">ali_volume_from_path</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">create_ali_oss</span><span class="op">(</span></span>
<span>  from_path <span class="op">=</span> <span class="st">"path/to/my/json/file.json"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="volume-object-operations">Volume object operations<a class="anchor" aria-label="anchor" href="#volume-object-operations"></a>
</h3>
<p>When you’ve created a new volume, you can notice it is represented as
an object of the <code>Volume</code> class. To preview all volume
information, use the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print volume info</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">aws_iam_user_volume</span><span class="op">)</span></span></code></pre></div>
<p>Within this volume you have the following operations available to
execute:</p>
<ul>
<li>
<code>update</code>: update volume information</li>
<li>
<code>list_contents</code> : list volume content</li>
<li>
<code>get_file</code>: get single volume file info</li>
<li>
<code>deactivate</code> : deactivate volume</li>
<li>
<code>reactivate</code> : reactivate previously deactivated
volume</li>
<li>
<code>list_members</code>: list all volume members</li>
<li>
<code>add_member</code>: add new volume member</li>
<li>
<code>remove_member</code>: remove volume member</li>
<li>
<code>get_member</code>: get a volume member information</li>
<li>
<code>modify_member_permissions</code>: modify member permissions on
the volume</li>
<li>
<code>delete</code> : delete previously deactivated volume</li>
<li>
<code>reload</code> : reload volume object to sync information</li>
<li>
<code>list_imports</code>: list all imports from the specified
volume</li>
<li>
<code>list_exports</code>: list all exports to the specified
volume</li>
</ul>
<div class="section level4">
<h4 id="update-volume">Update volume<a class="anchor" aria-label="anchor" href="#update-volume"></a>
</h4>
<p>You can update volume’s <code>description</code>,
<code>access_mode</code> and <code>service</code> information. Please,
consult our <a href="https://docs.sevenbridges.com/reference/update-a-volume-v2" class="external-link">API
documentation</a> on how to use the <code>service</code> parameter.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If the volume is created with RO access mode and RO credential parameters,</span></span>
<span><span class="co"># and now we want to change it to RW, we should also set proper credential</span></span>
<span><span class="co"># parameters that are connected to the RW user on the bucket.</span></span>
<span><span class="co"># If it's created with RW credentials, but access mode is set to RO, then no</span></span>
<span><span class="co"># change is needed in the credentials parameters.</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">update</span><span class="op">(</span></span>
<span>  description <span class="op">=</span> <span class="st">"Updated to RW"</span>,</span>
<span>  access_mode <span class="op">=</span> <span class="st">"RW"</span>,</span>
<span>  service <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    credentials <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      access_key_id <span class="op">=</span> <span class="st">"&lt;access_key_id_for_rw&gt;"</span>,</span>
<span>      secret_access_key <span class="op">=</span> <span class="st">"&lt;secret_access_key_for_rw&gt;"</span>,</span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="reload-volume">Reload volume<a class="anchor" aria-label="anchor" href="#reload-volume"></a>
</h4>
<p>To keep your local <code>Volume</code> object up to date with the
volume on the platform, you can always call the <code>reload()</code>
function:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reload volume object</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="list-volumes-content">List volume’s content<a class="anchor" aria-label="anchor" href="#list-volumes-content"></a>
</h4>
<p>This operation lists all volume files in the root directory of the
bucket, unless the <code>parent</code> parameter is specified. In that
case, it lists the content of that directory on the bucket. The output
is a <code>VolumeContentCollection</code> collection object, that
contains two fields:</p>
<p>-<code>items</code> for storing a list of <code>VolumeFile</code>
objects (files on the volume) and -<code>prefixes</code> for storing a
list of <code>VolumePrefix</code> objects or folders on the volume.</p>
<p>You can also specify the <code>limit</code> parameter to control the
number of results returned.</p>
<p>Same as <code>Collection</code> objects, here we also have pagination
functions to return either the next page of results or all results.
However, backward pagination is not available for volume contents.</p>
<p>Users can also navigate through pages of results by using the
<code>continuation token</code> parameter or <code>link</code> to fetch
the next chunk of results. If you use the <code>link</code> parameter,
it will overwrite all other parameters if set, since it already contains
the <code>limit</code> and <code>continuation_token</code> info.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all files in root bucket directory</span></span>
<span><span class="va">content_collection</span> <span class="op">&lt;-</span> <span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">list_contents</span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print collection</span></span>
<span><span class="va">content_collection</span></span>
<span></span>
<span><span class="co"># List all files from a specific directory on the bucket</span></span>
<span><span class="va">folder_files_collection</span> <span class="op">&lt;-</span> <span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">list_contents</span><span class="op">(</span></span>
<span>  prefix <span class="op">=</span> <span class="st">"&lt;directory_name&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the next group of results by setting the continuation token</span></span>
<span><span class="va">content_collection</span> <span class="op">&lt;-</span> <span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">list_contents</span><span class="op">(</span></span>
<span>  limit <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  continuation_token <span class="op">=</span> <span class="st">"&lt;continuation_token&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Preview volume files</span></span>
<span><span class="va">content_collection</span><span class="op">$</span><span class="va">items</span></span>
<span></span>
<span><span class="co"># Preview volume prefixes/folders</span></span>
<span><span class="va">content_collection</span><span class="op">$</span><span class="va">prefixes</span></span>
<span></span>
<span><span class="co"># Preview links</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="va">links</span></span>
<span></span>
<span><span class="co"># Get the next group of results by setting the link parameter</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">list_contents</span><span class="op">(</span>link <span class="op">=</span> <span class="st">"&lt;link_to_next_results&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or use VolumeContentCollection object's next_page() method for this:</span></span>
<span><span class="va">content_collection</span><span class="op">$</span><span class="fu">next_page</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># You can also fetch all results with the all() method</span></span>
<span><span class="va">content_collection</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="volume-files-and-prefixes">Volume files and prefixes<a class="anchor" aria-label="anchor" href="#volume-files-and-prefixes"></a>
</h4>
<p>Volume files and prefixes are also treated as objects and they
contain some operations that can be called on them.</p>
<div class="section level5">
<h5 id="get-volumefile-info">Get VolumeFile info<a class="anchor" aria-label="anchor" href="#get-volumefile-info"></a>
</h5>
<p>This operation returns a single volume file information. The input
parameter can be file’s id which is represented as location on the
bucket (<code>location)</code>, or a link to that file resource. The
link is a <code>href</code> field of the desired file received from the
response when returning a list of volume contents with
<code>list_contents()</code>. Empty arguments are not allowed along with
setting both parameters together.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get single volume file info - by setting file_location</span></span>
<span><span class="va">vol_file1</span> <span class="op">&lt;-</span> <span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">get_file</span><span class="op">(</span></span>
<span>  location <span class="op">=</span> <span class="st">"&lt;file_location_on_bucket&gt;"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get single volume file info - by setting link</span></span>
<span><span class="va">vol_file1</span> <span class="op">&lt;-</span> <span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">get_file</span><span class="op">(</span>link <span class="op">=</span> <span class="st">"full/request/link/to/file"</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level5">
<h5 id="reload-volumefile-object">Reload VolumeFile object<a class="anchor" aria-label="anchor" href="#reload-volumefile-object"></a>
</h5>
<p>To keep your local VolumeFile object up to date with the volume file
on the platform, you can always call the <code>reload()</code>
function:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vol_file1</span><span class="op">$</span><span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level5">
<h5 id="get-volumeprefix-info">Get VolumePrefix info<a class="anchor" aria-label="anchor" href="#get-volumeprefix-info"></a>
</h5>
<p>Unfortunately we don’t have a separate operation to fetch only
prefixes on the volume, therefore, we can get its prefixes only by using
the <code>list_contents()</code> operation and look for the
<code>prefixes</code> field in the returned
<code>VolumeContentCollection</code> object.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List content</span></span>
<span><span class="va">volume_content</span> <span class="op">&lt;-</span> <span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">list_contents</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract prefixes</span></span>
<span><span class="va">volume_prefixes</span> <span class="op">&lt;-</span> <span class="va">volume_content</span><span class="op">$</span><span class="va">prefixes</span></span>
<span></span>
<span><span class="co"># Select one of the volume folders to list its content</span></span>
<span><span class="va">volume_folder</span> <span class="op">&lt;-</span> <span class="va">volume_prefixes</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Print volume prefix information</span></span>
<span><span class="va">volume_folder</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can also list the content of a volume prefix/folder on the
volume, by calling <code>list_contents()</code> directly on the
<code>VolumePrefix</code> object.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Select one of the volume folders to list its content</span></span>
<span><span class="va">volume_folder</span> <span class="op">&lt;-</span> <span class="va">volume_prefixes</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># List content</span></span>
<span><span class="va">volume_folder_content</span> <span class="op">&lt;-</span> <span class="va">volume_folder</span><span class="op">$</span><span class="fu">list_contents</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
</div>
<div class="section level4">
<h4 id="list-volume-members">List volume members<a class="anchor" aria-label="anchor" href="#list-volume-members"></a>
</h4>
<p>In order to fetch members of one volume or a specific member by its
username, you can use <code>list_members()</code> and
<code>get_member()</code> operations:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List volume members</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">list_members</span><span class="op">(</span><span class="op">)</span> <span class="co"># limit = 2</span></span>
<span></span>
<span><span class="co"># Get single member</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">get_member</span><span class="op">(</span>user <span class="op">=</span> <span class="st">"&lt;member-username&gt;"</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="remove-members">Remove members<a class="anchor" aria-label="anchor" href="#remove-members"></a>
</h4>
<p>Volume admins can remove volume members by providing its username or
object of the <code>Member</code> class to the
<code>remove_member()</code> function:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remove member</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">remove_member</span><span class="op">(</span><span class="st">"&lt;member-username&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Remove member using the Member object</span></span>
<span><span class="va">members</span> <span class="op">&lt;-</span> <span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">list_members</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">remove_member</span><span class="op">(</span><span class="va">members</span><span class="op">$</span><span class="va">items</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="adding-new-members">Adding new members<a class="anchor" aria-label="anchor" href="#adding-new-members"></a>
</h4>
<p>The function for adding new members to the volume can accept a
<code>Member</code> object (for example used in a project) or its
username.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add member via username</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">add_member</span><span class="op">(</span>user <span class="op">=</span> <span class="st">"&lt;member-username&gt;"</span>, permissions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  read <span class="op">=</span> <span class="cn">TRUE</span>, copy <span class="op">=</span> <span class="cn">TRUE</span>, write <span class="op">=</span> <span class="cn">FALSE</span>, admin <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add member via Member object</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">add_member</span><span class="op">(</span></span>
<span>  user <span class="op">=</span> <span class="va"><a href="../reference/Member.html">Member</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>    username <span class="op">=</span> <span class="st">"&lt;member-username&gt;"</span>,</span>
<span>    id <span class="op">=</span> <span class="st">"&lt;member-username&gt;"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  permissions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    read <span class="op">=</span> <span class="cn">TRUE</span>, copy <span class="op">=</span> <span class="cn">TRUE</span>, write <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    admin <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="modifying-a-members-permissions">Modifying a member’s permissions<a class="anchor" aria-label="anchor" href="#modifying-a-members-permissions"></a>
</h4>
<p>Users can modify specific member’s permissions on the volume by
providing the privileges they want to change:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Modify member permissions</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">modify_member_permissions</span><span class="op">(</span></span>
<span>  user <span class="op">=</span> <span class="st">"&lt;member-username&gt;"</span>,</span>
<span>  permissions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>write <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="deactivate-and-reactivate-the-volume">Deactivate and reactivate the volume<a class="anchor" aria-label="anchor" href="#deactivate-and-reactivate-the-volume"></a>
</h4>
<p>Once deactivated, you cannot import from, export to, or browse within
a volume. As such, the content of the files imported from this volume
will no longer be accessible on the platform. However, you can update
the volume and manage members. Note that you cannot deactivate the
volume if you have running imports or exports unless you force the
operation using the query parameter <code>force = TRUE</code>.</p>
<p><strong>Note</strong> that to delete a volume, first you must
deactivate it and delete all files which have been imported from the
volume to the platform.</p>
<p>To reactivate the volume, just use the <code>reactivate()</code>
function.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Deactivate volume</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">deactivate</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reactivate volume</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">reactivate</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level4">
<h4 id="delete-volume">Delete volume<a class="anchor" aria-label="anchor" href="#delete-volume"></a>
</h4>
<p>To be able to delete a volume, you first need to deactivate it and
then delete all files on the Platform that were previously imported from
the volume.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Deactivate volume</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">deactivate</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Delete volume</span></span>
<span><span class="va">aws_iam_user_volume</span><span class="op">$</span><span class="fu">delete</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="imports">Imports<a class="anchor" aria-label="anchor" href="#imports"></a>
</h2>
<p>Creating and connecting volumes to the Platform allows you to import
your files/folders from a cloud bucket to the Platform. Imports
operations are related to volumes, but in the API they are separated
under <code>/imports</code> endpoints, so in our library they are also
grouped under imports path on the authentication object
(<code>Imports</code> resource class).</p>
<p>A single import job is represented as an <code>Import</code> class
object containing information about which file/folder has been or is
being imported, from which volume, to which project/folder on the
platform, import start and finish time, status of the job, logs etc.</p>
<div class="section level3">
<h3 id="list-volume-imports">List volume imports<a class="anchor" aria-label="anchor" href="#list-volume-imports"></a>
</h3>
<p>To preview and query all import jobs you’ve created use the
<code>query()</code> function on <code>Auth$imports</code> path:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List imports</span></span>
<span><span class="va">all_imports</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">imports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Limit results to 5</span></span>
<span><span class="va">imp_limit5</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">imports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load next page of 5 results</span></span>
<span><span class="va">imp_limit5</span><span class="op">$</span><span class="fu">next_page</span><span class="op">(</span>advance_access <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load all results at once until last page</span></span>
<span><span class="va">imp_limit5</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span>advance_access <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>It is possible to use some query parameters as different criteria for
filtering results like <code>volume</code>, <code>project</code>,
<code>state</code> etc:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List imports with state being RUNNING or FAILED</span></span>
<span><span class="va">imp_states</span> <span class="op">&lt;-</span> <span class="va">auth</span><span class="op">$</span><span class="va">imports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span>state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RUNNING"</span>, <span class="st">"FAILED"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List imports to the specific project</span></span>
<span><span class="va">imp_project</span> <span class="op">&lt;-</span> <span class="va">auth</span><span class="op">$</span><span class="va">imports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span>project <span class="op">=</span> <span class="st">"&lt;project_id&gt;"</span><span class="op">)</span></span></code></pre></div>
<p>Listing imports is also available within <code>Project</code> and
<code>Volume</code> objects, where resulting imports are related to the
specific project or volume where they’re called from.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get the volume from which you want to list all imports</span></span>
<span><span class="va">vol1</span> <span class="op">&lt;-</span> <span class="va">auth</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;volumes_owner_or_division&gt;/&lt;volume-name&gt;"</span><span class="op">)</span></span>
<span><span class="va">vol1</span><span class="op">$</span><span class="fu">list_imports</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Get the project object for which you want to list imports</span></span>
<span><span class="va">test_proj</span> <span class="op">&lt;-</span> <span class="va">auth</span><span class="op">$</span><span class="va">projects</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"&lt;project_id&gt;"</span><span class="op">)</span></span>
<span><span class="va">test_proj</span><span class="op">$</span><span class="fu">list_imports</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="get-a-single-import-job">Get a single import job<a class="anchor" aria-label="anchor" href="#get-a-single-import-job"></a>
</h3>
<p>Similar to other resource classes, the <code><a href="https://rdrr.io/r/base/get.html" class="external-link">get()</a></code> method will
return a single import job object when provided with a job id.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get single import</span></span>
<span><span class="va">imp_obj</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">imports</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;import_job_id&gt;"</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="submit-new-import---import-a-volume-file-into-the-project">Submit new import - import a volume file into the project<a class="anchor" aria-label="anchor" href="#submit-new-import---import-a-volume-file-into-the-project"></a>
</h3>
<p>In order to import volume files into a project, users can use the
<code>submit_import()</code> method from the <code>Auth$imports</code>
path, or directly on the selected <code>VolumeFile</code> object (file
they want to import) where this function is also available.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## First, get the volume you want to import files from</span></span>
<span><span class="va">vol1</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;volume_owner_or_division&gt;/&lt;volume_name&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Then, get the project object/id where you want to import files</span></span>
<span><span class="va">test_proj</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">projects</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"&lt;project_id&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## List all volume files on the volume</span></span>
<span><span class="va">vol1_content</span> <span class="op">&lt;-</span> <span class="va">vol1</span><span class="op">$</span><span class="fu">list_contents</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Select one of the volume files</span></span>
<span><span class="va">volume_file_import</span> <span class="op">&lt;-</span> <span class="va">vol1_content</span><span class="op">$</span><span class="va">items</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co">## Perform a file import</span></span>
<span><span class="va">imp_job1</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">imports</span><span class="op">$</span><span class="fu">submit_import</span><span class="op">(</span></span>
<span>  source_location <span class="op">=</span> <span class="va">volume_file_import</span>,</span>
<span>  destination_project <span class="op">=</span> <span class="va">test_proj</span>,</span>
<span>  autorename <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Alternatively you can also call import() directly on the VolumeFile object</span></span>
<span><span class="va">imp_job1</span> <span class="op">&lt;-</span> <span class="va">volume_file_import</span><span class="op">$</span><span class="fu">import</span><span class="op">(</span></span>
<span>  destination_project <span class="op">=</span> <span class="va">test_proj</span>,</span>
<span>  autorename <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Preview import job details with the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print Import object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">imp_job1</span><span class="op">)</span></span></code></pre></div>
<p>You can also import folders from the volume into the project, with
the option to preserve or not to preserve folder structure:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select one of the volume folders to import</span></span>
<span><span class="va">volume_folder_import</span> <span class="op">&lt;-</span> <span class="va">vol1_content</span><span class="op">$</span><span class="va">prefixes</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Perform a folder import</span></span>
<span><span class="va">imp_job2</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">imports</span><span class="op">$</span><span class="fu">submit_import</span><span class="op">(</span></span>
<span>  source_location <span class="op">=</span> <span class="va">volume_folder_import</span>,</span>
<span>  destination_project <span class="op">=</span> <span class="va">test_proj</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  preserve_folder_structure <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Alternatively you can also call import() directly on the VolumePrefix object</span></span>
<span><span class="va">imp_job2</span> <span class="op">&lt;-</span> <span class="va">volume_folder_import</span><span class="op">$</span><span class="fu">import</span><span class="op">(</span></span>
<span>  destination_project <span class="op">=</span> <span class="va">test_proj</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  preserve_folder_structure <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print Import object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">imp_job2</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="reload-import-job">Reload import job<a class="anchor" aria-label="anchor" href="#reload-import-job"></a>
</h3>
<p>In order to refresh the import job object and get the up to date info
about its state, you can always call the <code>reload()</code>
function:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reload import object</span></span>
<span><span class="va">imp_job1</span><span class="op">$</span><span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
</div>
<div class="section level2">
<h2 id="exports">Exports<a class="anchor" aria-label="anchor" href="#exports"></a>
</h2>
<p>Exports are the actions of exporting your files from the Platform
into a cloud bucket represented as a volume. Export operations are also
related to volumes, but in the API they are separated under
<code>/exports</code> endpoints, so in our library they are also grouped
under the <code>exports</code> path on the authentication object
(<code>Exports</code> resource class).</p>
<p>A single export job is represented as an <code>Export</code> class
object containing information about a file has been or is being
exported, from which project/folder on the Platform, to which volume,
export start and finish time, status of the job, logs etc.</p>
<div class="section level3">
<h3 id="list-file-exports-to-the-volumes">List file exports to the volumes<a class="anchor" aria-label="anchor" href="#list-file-exports-to-the-volumes"></a>
</h3>
<p>Users can preview and query all export jobs they’ve created for the
purpose of exporting their files from the Platform into a cloud bucket
using volumes. The output is a <code>Collection</code> object storing a
list of exports in its <code>items</code> field and providing pagination
options.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List exports</span></span>
<span><span class="va">all_exports</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">exports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Limit results to 5</span></span>
<span><span class="va">exp_limit5</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">exports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load next page of 5 results</span></span>
<span><span class="va">exp_limit5</span><span class="op">$</span><span class="fu">next_page</span><span class="op">(</span>advance_access <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List all results until last page</span></span>
<span><span class="va">exp_limit5</span><span class="op">$</span><span class="fu">all</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>It is possible to use some query parameters as different criteria for
filtering results like <code>volume</code>, <code>state</code> etc:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List exports with status RUNNING or FAILED</span></span>
<span><span class="va">exp_states</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">exports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span>state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RUNNING"</span>, <span class="st">"FAILED"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List exports into a specific volume</span></span>
<span><span class="va">exp_volume</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">exports</span><span class="op">$</span><span class="fu">query</span><span class="op">(</span></span>
<span>  volume <span class="op">=</span> <span class="st">"&lt;volume_owner_or_division&gt;/&lt;volume_name&gt;"</span> <span class="co"># volume object or id</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Listing exports is also available within <code>Volume</code> objects,
where results contain all files exported to the specific volume they’re
being called from.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get the volume for which you want to list all exports</span></span>
<span><span class="va">vol1</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;volume_owner_or_division&gt;/&lt;volume_name&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List exports</span></span>
<span><span class="va">vol1</span><span class="op">$</span><span class="fu">list_exports</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="get-a-single-export-job">Get a single export job<a class="anchor" aria-label="anchor" href="#get-a-single-export-job"></a>
</h3>
<p>Similar to other resource classes, the <code><a href="https://rdrr.io/r/base/get.html" class="external-link">get()</a></code> method will
return a single export job object when provided with job id.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get a single export</span></span>
<span><span class="va">exp_obj</span> <span class="op">&lt;-</span> <span class="va">auth</span><span class="op">$</span><span class="va">exports</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;export_job_id&gt;"</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="submit-a-new-export---export-a-file-from-the-platform-to-a-volume">Submit a new export - export a file from the platform to a
volume<a class="anchor" aria-label="anchor" href="#submit-a-new-export---export-a-file-from-the-platform-to-a-volume"></a>
</h3>
<p>In order to export platform files into volumes, users can use
the<br><code>submit_export()</code> method from the <code>auth$exports</code>
path, or directly on the selected <code>File</code> object (file they
want to export) where this function is also available.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First, get the volume you want to export files to</span></span>
<span><span class="va">vol1</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">volumes</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"&lt;volume_owner_or_division&gt;/&lt;volume_name&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the File object/id you want to export from the platform</span></span>
<span><span class="va">test_file</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">files</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"&lt;file_id&gt;"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Perform a file export</span></span>
<span><span class="va">exp_job1</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">exports</span><span class="op">$</span><span class="fu">submit_export</span><span class="op">(</span></span>
<span>  source_file <span class="op">=</span> <span class="va">test_file</span>,</span>
<span>  destination_volume <span class="op">=</span> <span class="va">vol1</span>,</span>
<span>  destination_location <span class="op">=</span> <span class="st">"new_volume_file.txt"</span> <span class="co"># new name</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Preview export job details with the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print export job info</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">exp_job1</span><span class="op">)</span></span></code></pre></div>
<p>Bear in mind that <strong>folders export</strong> from the platform
to volumes is <strong>not possible</strong> with this function. For such
cases (or export of multiple files) it is better to use bulk actions
that will be added to the package soon.</p>
<p>Users can also export files into specific volume directories, by
providing the <code>prefix</code> within the <code>location</code>
parameter as a folder name, which will then be virtually created on the
volume:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Export file into the folder 'test_folder'</span></span>
<span><span class="va">exp_job2</span> <span class="op">&lt;-</span> <span class="va">a</span><span class="op">$</span><span class="va">exports</span><span class="op">$</span><span class="fu">submit_export</span><span class="op">(</span></span>
<span>  source_file <span class="op">=</span> <span class="va">test_file</span>,</span>
<span>  destination_volume <span class="op">=</span> <span class="va">vol1</span>,</span>
<span>  destination_location <span class="op">=</span> <span class="st">"test_folder/new_volume_file.txt"</span> <span class="co"># new name</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print export job info</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">exp_job2</span><span class="op">)</span></span></code></pre></div>
<p><strong>Important</strong> :</p>
<ul>
<li>The file selected for export must not be a public file or an alias.
Aliases are objects stored in your cloud storage bucket which have been
made available on a Seven Bridges environment. The volume you are
exporting to must be configured for read-write access. To do this, set
the <code>access_mode</code> parameter to RW when creating or modifying
a volume.</li>
<li>If this call is successful, the original project file will become an
alias to the newly exported object on the volume. The source file will
be deleted from the Seven Bridges environment and, if no more copies of
this file exist, it will no longer count towards your total storage
price on the Seven Bridges environment.</li>
</ul>
<div align="right">
<a href="#top">top</a>
</div>
</div>
<div class="section level3">
<h3 id="reload-export-job">Reload export job<a class="anchor" aria-label="anchor" href="#reload-export-job"></a>
</h3>
<p>In order to refresh the export job object and get the up to date info
about its state, you can always call the <code>reload()</code>
function:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reload export object</span></span>
<span><span class="va">exp_job1</span><span class="op">$</span><span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div align="right">
<a href="#top">top</a>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Vladimir Obucina, Marko Trifunovic, Marija Jovanovic, Seven Bridges Genomics Inc..</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
